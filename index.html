<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>CDD with LLM</title>
    <link rel="stylesheet" href="cdd_with_llm.css">
    <script src="jquery-3.7.1.min.js"></script>
    <script src="cdd_with_llm.js"></script>
</head>

<body>
    <div class="row">
        <div class="col-25">
            <div class="container">
                <form id="frm_web_search">
                    <div class="row vi_deploy">
                        <label for="company_name">Company to check:</label>
                    </div>
                    <div class="row vi_deploy">
                        <input id="company_name" name="company_name" type="text" required autocomplete="on">
                    </div>
                    <div class="row">
                        <label for="lang">Choose a language/region:</label>
                    </div>
                    <div class="row">
                        <select id="lang" name="lang">
                            <option value="zh-CN">Simplified Chinese</option>
                            <option value="zh-HK">Traditional Chinese(HK)</option>
                            <option value="zh-TW">Traditional Chinese(TW)</option>
                            <option value="en-US">English</option>
                            <option value="ja-JP">Japanese</option>
                        </select>
                    </div>
                    <div class="row">
                        <label for="search_engine">Choose a search engine:</label>
                    </div>
                    <div class="row">
                        <select id="search_engine" name="search_engine">
                            <option value="Bing">Bing</option>
                            <option value="Google">Google</option>
                        </select>
                    </div>
                    <div class="row">
                        <label for="num_results">Maximum number of news to fetch:</label>
                    </div>
                    <div class="row">
                        <select id="num_results" name="num_results">
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option value="20">20</option>
                            <option value="50">50</option>
                        </select>
                    </div>
                    <div class="row">
                        <br><br>
                    </div>
                    <div class="row">
                        <input type="submit" value="Click to search">
                    </div>
            </div>
            </form>
        </div>

        <div class="col-75">
            <div id="div_ajax" class="stick_top hide">
                <p id="p_ajax" class="blink"></p>
            </div>

            <div id="div_search_results" class="hide">
                <table id="tbl_search_results">
                </table>
            </div>

            <div id="div_operation" class="container hide">
                <div class="row">
                    <div class="col-25">
                        <button id="btn_crawler"
                            onclick="document.getElementById('div_crawler_frm').style.display='block'">Get Full
                            Text</button>
                    </div>
                    <div class="col-25">
                        <button id="btn_tagging"
                            onclick="document.getElementById('div_tagging_frm').style.display='block'">FC
                            Tagging</button>
                    </div>
                    <div class="col-25">
                        <button id="btn_summary"
                            onclick="document.getElementById('div_summary_frm').style.display='block'">Summary</button>
                    </div>
                    <div class="col-25">
                        <button id="btn_qa"
                            onclick="document.getElementById('div_qa_frm').style.display='block'">Question
                            Answering</button>
                    </div>
                </div>
            </div>
            <div id="div_crawler_frm" class="modal">
                <form id="frm_crawler" class="modal-content animate">
                    <div class="container_nomargin">
                        <div class="row">
                            <label for="min_content_length">Minimum number of characters required for each article:</label>
                        </div>
                        <div class="row">
                            <select id="min_content_length" name="min_content_length">
                                <option value="50">50</option>
                                <option value="100" selected>100</option>
                                <option value="200">200</option>
                            </select>
                        </div>
                        <div class="row">
                            <input type="checkbox" id="contents_save" name="contents_save" checked>
                            <label for="contents_save">Persistent storage for these contents</label>
                        </div>
                        <div class="row">
                            <input type="checkbox" id="contents_load" name="contents_load" checked>
                            <label for="contents_load">Load web contents from persistent storage if possible</label>
                        </div>
                        <div class="row">
                            <br><br>
                        </div>
                        <div class="row">
                            <div class="col-50">
                                <button type="submit">Submit</button>
                            </div>
                            <div class="col-50">
                                <button type="button"
                                    onclick="document.getElementById('div_crawler_frm').style.display='none'">Cancel</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div id="div_tagging_frm" class="modal">
                <form id="frm_tagging" class="modal-content animate">
                    <div class="container_nomargin">
                        <div class="row">
                            <label for="tagging_strategy">Tagging strategy:</label>
                        </div>
                        <div class="row">
                            <select id="tagging_strategy" name="tagging_strategy">
                                <option value="first">First chunck (less LLM calls, less accuracy)</option>
                                <option value="all" selected>All chunks (more LLM calls, more accuracy)</option>
                            </select>
                        </div>
                        <div class="row">
                            <label for="tagging_chunk_size">Chunk size:</label>
                        </div>
                        <div class="row">
                            <select id="tagging_chunk_size" name="tagging_chunk_size">
                                <option value="1000">1000 tokens</option>
                                <option value="2000" selected>2000 tokens</option>
                                <option value="3000">3000 tokens</option>
                                <option value="4000">4000 tokens</option>
                            </select>
                        </div>
                        <div class="row">
                            <label for="tagging_llm_model">Large Language Model:</label>
                        </div>
                        <div class="row">
                            <select id="tagging_llm_model" name="tagging_llm_model">
                                <option value="GPT35">OpenAI GPT-3.5 (not recommended)</option>
                                <option value="GPT4" selected>OpenAI GPT-4</option>
                                <option value="GPT4-32k">OpenAI GPT-4 32k</option>
                            </select>
                        </div>
                        <div class="row">
                            <input type="checkbox" id="tags_save" name="tags_save" checked>
                            <label for="tags_save">Persistent storage for these tags</label>
                        </div>
                        <div class="row">
                            <input type="checkbox" id="tags_load" name="tags_load" checked>
                            <label for="tags_load">Load tags from persistent storage if possible</label>
                        </div>
                        <div class="row">
                            <br><br>
                        </div>
                        <div class="row">
                            <div class="col-50">
                                <button type="submit">Submit</button>
                            </div>
                            <div class="col-50">
                                <button type="button"
                                    onclick="document.getElementById('div_tagging_frm').style.display='none'">Cancel</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div id="div_summary_frm" class="modal">
                <form id="frm_summary" class="modal-content animate">
                    <div class="container_nomargin">
                        <div class="row">
                            <label for="summary_max_words">Maximum number of words:</label>
                        </div>
                        <div class="row">
                            <select id="summary_max_words" name="summary_max_words">
                                <option value="100">100</option>
                                <option value="200">200</option>
                                <option value="200" selected>300</option>
                                <option value="200">500</option>
                            </select>
                        </div>
                        <div class="row">
                            <input type="checkbox" id="summary_clus_docs" name="summary_clus_docs" checked onchange="document.getElementById('summary_num_clus').disabled=!this.checked;">
                            <label for="summary_clus_docs">
                                Cluster documents before summarization (with less LLM calls)
                            </label>
                        </div>
                        <div class="row">
                            <label for="summary_num_clus">Number of clusters:</label>
                            <select id="summary_num_clus" name="summary_num_clus">
                                <option value="2">2</option>
                                <option value="5" selected>5</option>
                                <option value="10">10</option>
                            </select>
                        </div>
                        <div class="row">
                            <label for="summary_chunk_size">Chunk size:</label>
                        </div>
                        <div class="row">
                            <select id="summary_chunk_size" name="summary_chunk_size">
                                <option value="1000">1000 tokens</option>
                                <option value="2000" selected>2000 tokens</option>
                                <option value="3000">3000 tokens</option>
                                <option value="4000">4000 tokens</option>
                            </select>
                        </div>
                        <div class="row">
                            <label for="summary_llm_model">Large Language Model:</label>
                        </div>
                        <div class="row">
                            <select id="summary_llm_model" name="summary_llm_model">
                                <option value="GPT35">OpenAI GPT-3.5</option>
                                <option value="GPT4" selected>OpenAI GPT-4</option>
                                <option value="GPT4-32k">OpenAI GPT-4 32k</option>
                            </select>
                        </div>
                        <div class="row">
                            <br><br>
                        </div>
                        <div class="row">
                            <div class="col-50">
                                <button type="submit">Submit</button>
                            </div>
                            <div class="col-50">
                                <button type="button"
                                    onclick="document.getElementById('div_summary_frm').style.display='none'">Cancel</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div id="div_qa_frm" class="modal">
                <form id="frm_qa" class="modal-content animate">
                    <div class="container_nomargin">
                        <div class="row">
                            <label for="qa_query">Your question:</label>
                        </div>
                        <div class="row">
                            <textarea id="qa_query" name="qa_query" style="height: 100px;"></textarea>
                        </div>
                        <div class="row">
                            <input type="checkbox" id="with_his_data" name="with_his_data" onchange="document.getElementById('data_within_days').disabled=!this.checked;">
                            <label for="with_his_data">
                                Also load historical documents to answer this
                            </label>
                        </div>
                        <div class="row">
                            <label for="data_within_days">Historical documents no older than:</label>
                            <select id="data_within_days" name="data_within_days" disabled>
                                <option value="7">a week</option>
                                <option value="30">a month</option>
                                <option value="90" selected>three months</option>
                                <option value="180">six months</option>
                                <option value="365">a year</option>
                            </select>
                        </div>
                        <div class="row">
                            <label for="qa_chunk_size">Chunk size:</label>
                        </div>
                        <div class="row">
                            <select id="qa_chunk_size" name="qa_chunk_size">
                                <option value="1000">1000 tokens</option>
                                <option value="2000" selected>2000 tokens</option>
                                <option value="3000">3000 tokens</option>
                                <option value="4000">4000 tokens</option>
                            </select>
                        </div>
                        <div class="row">
                            <label for="qa_llm_model">Large Language Model:</label>
                        </div>
                        <div class="row">
                            <select id="qa_llm_model" name="qa_llm_model">
                                <option value="GPT35">OpenAI GPT-3.5</option>
                                <option value="GPT4" selected>OpenAI GPT-4</option>
                                <option value="GPT4-32k">OpenAI GPT-4 32k</option>
                            </select>
                        </div>
                        <div class="row">
                            <br><br>
                        </div>
                        <div class="row">
                            <div class="col-50">
                                <button type="submit">Submit</button>
                            </div>
                            <div class="col-50">
                                <button type="button"
                                    onclick="document.getElementById('div_qa_frm').style.display='none'">Cancel</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div id="div_summary" class="container hide">
                <h3>Summary</h3>
                <hr>
                <p id="p_summary"></p>
            </div>

            <div id="div_answer" class="container hide">
                <h3>Question</h3>
                <hr>
                <p id="p_question"></p>
                <h3>Answer</h3>
                <hr>
                <p id="p_answer"></p>
            </div>
        </div>
    </div>
</body>

</html>